(this["webpackJsonpdrinks-search"]=this["webpackJsonpdrinks-search"]||[]).push([[0],{169:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(10),s=c.n(r),i=(c(66),c(67),c(68),c(5)),o=c(16),l=c.n(o),d=c(25),j=c(58),b=c.n(j),u=function(e,t){var c=Object(n.useRef)(!0),a=Object(n.useState)({data:[],loading:!(""===e&&!t),error:null}),r=Object(i.a)(a,2),s=r[0],o=r[1];return Object(n.useEffect)((function(){return function(){c.current=!1}}),[]),Object(n.useEffect)((function(){""!==e&&(o({data:[],loading:!0,error:null}),function(){var n=Object(d.a)(l.a.mark((function n(){var a,r,s,i;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=t?"https://www.thecocktaildb.com/api/json/v1/1/filter.php?c=".concat(encodeURI(e),"&i=").concat(encodeURI(t)):"https://www.thecocktaildb.com/api/json/v1/1/list.php?c=".concat(encodeURI(e)),n.next=4,b.a.get(r);case 4:s=n.sent,(i=null===(a=s.data)||void 0===a?void 0:a.drinks)?c.current&&o({data:i,loading:!1,error:null}):c.current&&o({data:[],loading:!1,error:"Error en la peticion"}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),o({data:[],loading:!1,error:n.t0});case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}()())}),[e,t]),s},m=function(e){var t=Object(n.useRef)(!0),c=Object(n.useState)({data:{},loading:!1,error:null}),a=Object(i.a)(c,2),r=a[0],s=a[1];return Object(n.useEffect)((function(){return function(){t.current=!1}}),[]),Object(n.useEffect)((function(){""!==e&&(s({data:{},loading:!0,error:null}),function(){var c=Object(d.a)(l.a.mark((function c(){var n,a,r;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,n="https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=".concat(e),c.next=4,fetch(n);case 4:return a=c.sent,c.next=7,a.json();case 7:(r=c.sent).drinks?t.current&&s({data:r.drinks[0],loading:!1,error:null}):t.current&&s({data:{},loading:!1,error:"Error en la petici\xf3n."}),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(0),s({data:{},loading:!1,error:c.t0});case 14:case"end":return c.stop()}}),c,null,[[0,11]])})));return function(){return c.apply(this,arguments)}}()())}),[e]),r},h=c(0),O=Object(n.createContext)(),x=function(e){var t=e.children,c=Object(n.useRef)(),a=Object(n.useState)({category:"",ingredient:"",openModal:!1,idRecipe:""}),r=Object(i.a)(a,2),s=r[0],o=r[1],l=s.category,d=s.ingredient,j=s.openModal,b=s.idRecipe,x=u(l,d),f=m(b);return Object(h.jsx)(O.Provider,{value:{titlePage:c,setDrinks:o,recipes:x,openModal:j,detailRecipe:f},children:t})},f=c(8),v=c(183),p=c(182),g=c(35),N=function(e){var t=e.image,c=e.name;return Object(h.jsx)("div",{className:"col-md-5",children:Object(h.jsx)("img",{src:t,alt:c,className:"card-img"})})},k=function(e){var t=e.ingredients;return Object(h.jsxs)("div",{className:"col-md-6 mb-3",children:[Object(h.jsx)("p",{className:"card-text mb-1",style:{fontWeight:"bold"},children:"Ingredientes:"}),Object(h.jsx)("ul",{className:"card-text",children:t.map((function(e,t){return Object(h.jsx)("li",{children:e},t)}))})]})},y=function(e){var t=e.quantities;return Object(h.jsxs)("div",{className:"col-md-6 mb-3",children:[Object(h.jsx)("p",{className:"card-text mb-1",style:{fontWeight:"bold"},children:"Cantidades:"}),Object(h.jsx)("ul",{className:"card-text",children:t.map((function(e,t){return Object(h.jsx)("li",{children:e},t)}))})]})},w=function(e){var t=e.recipe,c=Object(n.useState)([]),a=Object(i.a)(c,2),r=a[0],s=a[1],o=Object(n.useState)([]),l=Object(i.a)(o,2),d=l[0],j=l[1],b=t.strDrink,u=t.strDrinkThumb,m=t.strInstructions,O=m.charAt(0).toUpperCase()+m.slice(1);return Object(n.useEffect)((function(){for(var e=function(){var e=n[c];e.includes("strIngredient")&&t[e]&&j((function(c){return[].concat(Object(g.a)(c),[t[e]])})),e.includes("strMeasure")&&t[e]&&s((function(c){return[].concat(Object(g.a)(c),[t[e]])}))},c=0,n=Object.keys(t);c<n.length;c++)e()}),[t]),Object(h.jsx)("div",{className:"card animate__animated animate__fadeIn",style:{width:"100%"},children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)(N,{image:u,name:b}),Object(h.jsx)("div",{className:"col-md-7",children:Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsx)("h5",{className:"card-title card-title-modal",children:b}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)(k,{ingredients:d}),Object(h.jsx)(y,{quantities:r})]}),Object(h.jsx)("p",{className:"card-text text-justify",children:O})]})})]})})},C=function(e){var t=e.height;return Object(h.jsx)("div",{className:"container-error",style:{height:t},children:Object(h.jsx)("p",{className:"error",children:"No se obtuvieron resultados, intente nuevamente."})})},D=function(e){var t=e.height;return Object(h.jsx)("div",{className:"container-loading",style:{height:t},children:Object(h.jsxs)("div",{className:"sk-chase",children:[Object(h.jsx)("div",{className:"sk-chase-dot"}),Object(h.jsx)("div",{className:"sk-chase-dot"}),Object(h.jsx)("div",{className:"sk-chase-dot"}),Object(h.jsx)("div",{className:"sk-chase-dot"}),Object(h.jsx)("div",{className:"sk-chase-dot"}),Object(h.jsx)("div",{className:"sk-chase-dot"})]})})},S=function(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate( -".concat(50,"%, -").concat(50,"% )")}},R=Object(p.a)((function(e){return{paper:{backgroundColor:"rgba(230, 230, 230, 0.7)",boxShadow:e.shadows[5],maxHeight:"95%",overflow:"auto",padding:e.spacing(2,4,3),position:"absolute",width:"75%"}}})),E=function(){var e=Object(n.useContext)(O),t=e.setDrinks,c=e.detailRecipe,a=e.openModal,r=c.data,s=c.loading,o=c.error,l=R(),d=Object(n.useState)(S),j=Object(i.a)(d,1)[0];return Object(h.jsx)("div",{className:"container",children:Object(h.jsx)(v.a,{open:a,onClose:function(){t((function(e){return Object(f.a)(Object(f.a)({},e),{},{openModal:!1})}))},children:Object(h.jsx)("div",{style:j,className:l.paper,children:s?Object(h.jsx)(D,{height:"550px"}):o&&Object.keys(r).length<0?Object(h.jsx)(C,{height:"550px"}):Object(h.jsx)(w,{recipe:r})})})})},I=c(12),_=c.n(I),M=c(60),V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(n.useState)(e),c=Object(i.a)(t,2),a=c[0],r=c[1],s=function(e){r(Object(f.a)(Object(f.a)({},a),{},Object(M.a)({},e.target.name,e.target.value)))},o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;r(t)};return[a,s,o]},F=function(e,t){return _.a.isEmpty(t)||!_.a.isAlpha(t,["es-ES"],{ignore:" -0123456789"})||_.a.isEmpty(e)||!_.a.isAlpha(e,["es-ES"],{ignore:" -0123456789"})?{errorDrinks:"Todos los campos son obligatorios.",isValid:!1}:{errorDrinks:null,isValid:!0}},P=function(e){var t=e.value,c=e.text;return Object(h.jsx)("option",{value:t,children:c})},U=function(e){var t=e.category,c=e.handleChange,n=e.error,a=u("list"),r=a.data,s=a.loading,i=a.error,o=r.map((function(e){return e.strCategory.replace(/\//g,"-")})).sort();return Object(h.jsxs)("div",{className:"col-md-5 mb-2",children:[Object(h.jsx)("label",{htmlFor:"category",className:"form-label",children:"Categor\xeda"}),Object(h.jsxs)("select",{id:"category",name:"category",className:"form-control ".concat(n&&"is-invalid"),value:t,onChange:c,children:[Object(h.jsx)("option",{value:"",defaultValue:!0,children:"-Seleccione una categor\xeda-"}),s&&Object(h.jsx)(P,{value:"",text:"Loading..."}),i?Object(h.jsx)(P,{value:"",text:"Recargue el sitio nuevamente."}):o.map((function(e){return Object(h.jsx)(P,{value:e,text:e},e)}))]}),Object(h.jsx)("div",{className:"invalid-feedback",children:n})]})},A=function(e){var t=e.ingredient,c=e.handleChange,n=e.error;return Object(h.jsxs)("div",{className:"col-md-5 offset-md-1 mb-2",children:[Object(h.jsx)("label",{htmlFor:"ingredient",className:"form-label",children:"Ingrediente"}),Object(h.jsx)("input",{type:"text",id:"ingredient",name:"ingredient",placeholder:"Ingrediente",className:"form-control ".concat(n&&"is-invalid"),value:t,onChange:c}),Object(h.jsx)("div",{className:"invalid-feedback",children:n})]})},B=a.a.memo((function(e){var t=e.disabled;return Object(h.jsx)("div",{className:"col-md-10 offset-md-1 mt-2",children:Object(h.jsx)("button",{type:"submit",className:"btn btn-block btn-primary",disabled:t,children:"Buscar"})})})),T=function(){var e=Object(n.useContext)(O).setDrinks,t=V({category:"",ingredient:""}),c=Object(i.a)(t,3),a=c[0],r=c[1],s=c[2],o=a.category,l=a.ingredient,d=Object(n.useState)(null),j=Object(i.a)(d,2),b=j[0],u=j[1],m=Object(n.useState)(!1),x=Object(i.a)(m,2),v=x[0],p=x[1];return Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("form",{className:"col-12 pb-4",autoComplete:"off",onSubmit:function(t){t.preventDefault(),p(!0);var c=_.a.escape(o),n=_.a.escape(l),a=F(c,n),r=a.errorDrinks,i=a.isValid;u(r),i&&(e((function(e){return Object(f.a)(Object(f.a)({},e),{},{category:c.replace(/-/g,"/"),ingredient:n})})),s()),p(!1)},children:[Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)(A,{ingredient:l,handleChange:r,error:b||""}),Object(h.jsx)(U,{category:o,handleChange:r,error:b||""})]}),Object(h.jsx)("div",{className:"row",children:Object(h.jsx)(B,{disabled:v})})]})})},q=function(){var e=Object(n.useContext)(O).titlePage;return Object(h.jsx)("header",{className:"bg-primary",ref:e,children:Object(h.jsx)("h1",{children:"Busca recetas de tragos"})})},J=a.a.memo((function(e){var t=e.name,c=e.image;return Object(h.jsxs)("div",{className:"card",children:[Object(h.jsx)("img",{src:c,alt:t,className:"card-img-top"}),Object(h.jsx)("div",{className:"card-body p-1 text-center",children:Object(h.jsx)("h5",{className:"card-title",children:t})})]})})),W=function(e){var t=e.id,c=Object(n.useContext)(O).setDrinks;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"col-12 p-0",children:Object(h.jsx)("button",{className:"btn btn-block btn-danger btn-recipe",onClick:function(){c((function(e){return Object(f.a)(Object(f.a)({},e),{},{idRecipe:t,openModal:!0})}))},children:"Receta"})})})},H=a.a.memo((function(e){var t=e.recipe,c=t.idDrink,n=t.strDrink,a=t.strDrinkThumb;return Object(h.jsx)("div",{className:"col-sm-3 p-2",children:Object(h.jsxs)("div",{className:"border border-danger",children:[Object(h.jsx)(J,{name:n,image:a||""}),Object(h.jsx)(W,{id:c})]})})})),L=function(){var e=Object(n.useContext)(O).titlePage;return Object(h.jsx)("div",{className:"row mt-3",children:Object(h.jsx)("div",{className:"col-md-10 offset-md-1 mb-4",children:Object(h.jsx)("button",{className:"btn btn-block btn-primary",onClick:function(){e.current.scrollIntoView({behavior:"smooth"})},children:"Volver a buscar"})})})},z=function(){var e=Object(n.useContext)(O).recipes,t=e.data,c=e.loading,a=e.error;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(q,{}),Object(h.jsxs)("div",{className:"container mt-3",children:[Object(h.jsx)(T,{}),c?Object(h.jsx)(D,{height:"395px"}):a&&t.length<0?Object(h.jsx)(C,{height:"355px"}):Object(h.jsx)("div",{className:"row animate__animated animate__fadeIn",children:t.map((function(e){return Object(h.jsx)(H,{recipe:e},e.idDrink)}))}),t.length>0&&Object(h.jsx)(L,{})]}),Object(h.jsx)(E,{})]})},G=function(){return Object(h.jsx)(x,{children:Object(h.jsx)(z,{})})};s.a.render(Object(h.jsx)(G,{}),document.getElementById("root"))},68:function(e,t,c){}},[[169,1,2]]]);
//# sourceMappingURL=main.ab81eb72.chunk.js.map